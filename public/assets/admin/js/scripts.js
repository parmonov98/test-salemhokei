$(".scroll-up").click(function () {
    $("html, body").animate({scrollTop: 0}, 500);
}), $(window).scroll(function () {
    $(window).scrollTop() > $(window).height() ? $(".scroll-up").fadeIn() : $(".scroll-up").fadeOut();
}), $(function () {
    $("[data-fancybox]").fancybox({touch: !1, keyboard: false});
});

function chosenInit() {
    if ($(".chosen").length) {
        var a, b = document.getElementById("lang").value;
        a = "en" == b ? "No results found for" : "kk" == b ? "\u041D\u04D9\u0442\u0438\u0436\u0435\u043B\u0435\u0440 \u0436\u043E\u049B" : "\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E \u043F\u043E \u0437\u0430\u043F\u0440\u043E\u0441\u0443", $(".chosen").chosen({
            search_contains: !0,
            no_results_text: a
        })
    }
}

chosenInit(), $(".mobile-dropdown__title").click(function () {
    var a = $(this).closest(".mobile-dropdown");
    a.hasClass("opened") ? a.removeClass("opened") : ($(".mobile-dropdown.opened").removeClass("opened"), a.addClass("opened"))
}), $(document).click(function (a) {
    !$(a.target).closest(".mobile-dropdown").length && $(".mobile-dropdown").hasClass("opened") && $(".mobile-dropdown").removeClass("opened")
}), $(".menu-btn-wrapper").click(function () {
    $(this).toggleClass("opened"), $(".header-right").toggleClass("opened"), $(this).hasClass("opened") ? bodyUnscrollable() : bodyScrollable()
})

function getScrollbarWidth() {
    var a = document.createElement("div");
    a.style.visibility = "hidden", a.style.width = "100px", a.style.msOverflowStyle = "scrollbar", document.body.appendChild(a);
    var b = a.offsetWidth;
    a.style.overflow = "scroll";
    var c = document.createElement("div");
    c.style.width = "100%", a.appendChild(c);
    var d = c.offsetWidth;
    return a.parentNode.removeChild(a), b - d;
}

function bodyUnscrollable() {
    if (!$("body").hasClass("no-scroll")) {
        var a = $(window).scrollTop(), b = $("*").filter(function () {
            return "fixed" == $(this).css("position");
        });
        $(".main-wrapper").css("margin-top", -a), $("body").addClass("no-scroll").css("margin-right", getScrollbarWidth()), b.css("margin-right", getScrollbarWidth());
    }
}

function bodyScrollable() {
    if ($("body").hasClass("no-scroll")) {
        var a = $(".main-wrapper").css("margin-top").slice(0, -2), b = $("*").filter(function () {
            return "fixed" == $(this).css("position");
        });
        $("body").removeClass("no-scroll").css("margin-right", 0), b.css("margin-right", 0), $(".main-wrapper").css("margin-top", 0), $(window).scrollTop(-a);
    }
}

$(".spoiler__title").click(function () {
    $(this).closest(".spoilers").hasClass("spoilers--independent") ? $(this).siblings(".spoiler__desc").slideToggle(300).closest(".spoiler").toggleClass("active") : $(this).siblings(".spoiler__desc").is(":visible") ? $(this).siblings(".spoiler__desc").slideUp(300).closest(".spoiler").removeClass("active") : ($(this).closest(".spoilers").find(".spoiler__desc:visible").slideUp(300).closest(".spoiler").removeClass("active"), $(this).siblings(".spoiler__desc").slideDown(300).closest(".spoiler").addClass("active"));
}), $(".menu li.dropdown a").click(function () {
    767 > $(window).width() && ($(this).siblings("ul").toggle(), $(this).toggleClass("opened"));
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsImNsaWNrIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIndpbmRvdyIsInNjcm9sbCIsImhlaWdodCIsImZhZGVJbiIsImZhZGVPdXQiLCJmYW5jeWJveCIsInRvdWNoIiwiY2hvc2VuSW5pdCIsImxlbmd0aCIsInJlc3VsdE1lc3NhZ2UiLCJsYW5nIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwiY2hvc2VuIiwic2VhcmNoX2NvbnRhaW5zIiwibm9fcmVzdWx0c190ZXh0IiwiZHJvcGRvd25XcmFwcGVyIiwiY2xvc2VzdCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImV2ZW50IiwidGFyZ2V0IiwidG9nZ2xlQ2xhc3MiLCJib2R5VW5zY3JvbGxhYmxlIiwiYm9keVNjcm9sbGFibGUiLCJnZXRTY3JvbGxiYXJXaWR0aCIsIm91dGVyIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwidmlzaWJpbGl0eSIsIndpZHRoIiwibXNPdmVyZmxvd1N0eWxlIiwiYm9keSIsImFwcGVuZENoaWxkIiwid2lkdGhOb1Njcm9sbCIsIm9mZnNldFdpZHRoIiwib3ZlcmZsb3ciLCJpbm5lciIsIndpZHRoV2l0aFNjcm9sbCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImZpbmQiLCJmaWx0ZXIiLCJjc3MiLCJzbGljZSIsInNpYmxpbmdzIiwic2xpZGVUb2dnbGUiLCJpcyIsInNsaWRlVXAiLCJzbGlkZURvd24iLCJ0b2dnbGUiXSwibWFwcGluZ3MiOiJBQUNBQSxDQUFDLENBQUMsWUFBRCxDQUFELENBQWdCQyxLQUFoQixDQUFzQixVQUFZLENBQzlCRCxDQUFDLENBQUMsWUFBRCxDQUFELENBQWdCRSxPQUFoQixDQUF3QixDQUNwQkMsU0FBUyxDQUFFLENBRFMsQ0FBeEIsQ0FFRyxHQUZILENBR0gsQ0FKRCxDLENBS0FILENBQUMsQ0FBQ0ksTUFBRCxDQUFELENBQVVDLE1BQVYsQ0FB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Y2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xyXG4gICAgICAgIHNjcm9sbFRvcDogMFxyXG4gICAgfSwgNTAwKTtcclxufSk7XHJcbiQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgLypTY3JvbGwgdXAgYXBwZWFyYW5jZSBvbiBzY3JvbGwqL1xyXG4gICAgaWYgKCQod2luZG93KS5zY3JvbGxUb3AoKSA+ICQod2luZG93KS5oZWlnaHQoKSkge1xyXG4gICAgICAgICQoJy5zY3JvbGwtdXAnKS5mYWRlSW4oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnLnNjcm9sbC11cCcpLmZhZGVPdXQoKTtcclxuICAgIH1cclxuICAgIC8qKi9cclxufSk7XHJcbi8qKi9cclxuXHJcbi8qRGlzYWJsZSB0b3VjaCBvbiBmYW5jeWJveCBtb2RhbCovXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnW2RhdGEtZmFuY3lib3hdJykuZmFuY3lib3goe1xyXG4gICAgICAgIHRvdWNoOiBmYWxzZVxyXG4gICAgfSk7XHJcbn0pO1xyXG4vKiovXHJcblxyXG4vKkNob3Nlbi1zZWxlY3QgaW5pdCovXHJcbmZ1bmN0aW9uIGNob3NlbkluaXQoKSB7XHJcbiAgICBpZiAoJCgnLmNob3NlbicpLmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBsYW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhbmcnKS52YWx1ZSxcclxuICAgICAgICAgICAgcmVzdWx0TWVzc2FnZTtcclxuICAgICAgICBpZiAobGFuZyA9PSAnZW4nKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdE1lc3NhZ2UgPSAnTm8gcmVzdWx0cyBmb3VuZCBmb3InXHJcbiAgICAgICAgfSBlbHNlIGlmIChsYW5nID09ICdraycpIHtcclxuICAgICAgICAgICAgcmVzdWx0TWVzc2FnZSA9ICfQndOZ0YLQuNC20LXQu9C10YAg0LbQvtKbJ1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdE1lc3NhZ2UgPSAn0J3QuNGH0LXQs9C+INC90LUg0L3QsNC50LTQtdC90L4g0L/QviDQt9Cw0L/RgNC+0YHRgyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKFwiLmNob3NlblwiKS5jaG9zZW4oe1xyXG4gICAgICAgICAgICBzZWFyY2hfY29udGFpbnM6IHRydWUsXHJcbiAgICAgICAgICAgIG5vX3Jlc3VsdHNfdGV4dDogcmVzdWx0TWVzc2FnZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5jaG9zZW5Jbml0KCk7XHJcbi8qKi9cclxuXHJcbi8qTW9iaWxlIGRyb3Bkb3duKi9cclxuJCgnLm1vYmlsZS1kcm9wZG93bl9fdGl0bGUnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZHJvcGRvd25XcmFwcGVyID0gJCh0aGlzKS5jbG9zZXN0KCcubW9iaWxlLWRyb3Bkb3duJyk7XHJcbiAgICBpZiAoIWRyb3Bkb3duV3JhcHBlci5oYXNDbGFzcygnb3BlbmVkJykpIHtcclxuICAgICAgICAkKCcubW9iaWxlLWRyb3Bkb3duLm9wZW5lZCcpLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcclxuICAgICAgICBkcm9wZG93bldyYXBwZXIuYWRkQ2xhc3MoJ29wZW5lZCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkcm9wZG93bldyYXBwZXIucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xyXG4gICAgfVxyXG59KTtcclxuJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAvL0Nsb3NlIHByb2ZpbGUgY29udGV4dCBtZW51IGlmIGFueXRoaW5nIGV4Y2VwdCBpdHNlbGYgb3IgcHJvZmlsZSBsaW5rIGlzIGNsaWNrZWRcclxuICAgIGlmICghJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJy5tb2JpbGUtZHJvcGRvd24nKS5sZW5ndGgpIHtcclxuICAgICAgICBpZiAoJCgnLm1vYmlsZS1kcm9wZG93bicpLmhhc0NsYXNzKCdvcGVuZWQnKSkge1xyXG4gICAgICAgICAgICAkKCcubW9iaWxlLWRyb3Bkb3duJykucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbi8qKi9cclxuXHJcbi8qTWVudS1idG4qL1xyXG4kKCcubWVudS1idG4td3JhcHBlcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ29wZW5lZCcpO1xyXG4gICAgJCgnLmhlYWRlci1yaWdodCcpLnRvZ2dsZUNsYXNzKCdvcGVuZWQnKTtcclxuICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdvcGVuZWQnKSkge1xyXG4gICAgICAgIGJvZHlVbnNjcm9sbGFibGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYm9keVNjcm9sbGFibGUoKTtcclxuICAgIH1cclxufSk7XHJcbi8qKi9cclxuXHJcbi8vR2V0IHNjcm9sbGJhciB3aWR0aFxyXG5mdW5jdGlvbiBnZXRTY3JvbGxiYXJXaWR0aCgpIHtcclxuICAgIHZhciBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBvdXRlci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcclxuICAgIG91dGVyLnN0eWxlLndpZHRoID0gXCIxMDBweFwiO1xyXG4gICAgb3V0ZXIuc3R5bGUubXNPdmVyZmxvd1N0eWxlID0gXCJzY3JvbGxiYXJcIjsgLy8gbmVlZGVkIGZvciBXaW5KUyBhcHBzXHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdXRlcik7XHJcblxyXG4gICAgdmFyIHdpZHRoTm9TY3JvbGwgPSBvdXRlci5vZmZzZXRXaWR0aDtcclxuICAgIC8vIGZvcmNlIHNjcm9sbGJhcnNcclxuICAgIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcclxuXHJcbiAgICAvLyBhZGQgaW5uZXJkaXZcclxuICAgIHZhciBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbm5lci5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgb3V0ZXIuYXBwZW5kQ2hpbGQoaW5uZXIpO1xyXG5cclxuICAgIHZhciB3aWR0aFdpdGhTY3JvbGwgPSBpbm5lci5vZmZzZXRXaWR0aDtcclxuXHJcbiAgICAvLyByZW1vdmUgZGl2c1xyXG4gICAgb3V0ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvdXRlcik7XHJcblxyXG4gICAgcmV0dXJuIHdpZHRoTm9TY3JvbGwgLSB3aWR0aFdpdGhTY3JvbGw7XHJcbn1cclxuXHJcbi8vTWFrZSBib2R5IHVuc2Nyb2xsYWJsZVxyXG5mdW5jdGlvbiBib2R5VW5zY3JvbGxhYmxlKCkge1xyXG4gICAgaWYgKCEkKCdib2R5JykuaGFzQ2xhc3MoJ25vLXNjcm9sbCcpKSB7XHJcbiAgICAgICAgdmFyIHNjcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgICAvL0RldGVjdCBhbGwgZml4ZWQgZWxlbWVudHMgb24gdGhlIHBhZ2VcclxuICAgICAgICB2YXIgZmluZCA9ICQoJyonKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5jc3MoJ3Bvc2l0aW9uJykgPT0gJ2ZpeGVkJztcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcubWFpbi13cmFwcGVyJykuY3NzKCdtYXJnaW4tdG9wJywgLXNjcm9sbFRvcCk7XHJcbiAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCduby1zY3JvbGwnKS5jc3MoJ21hcmdpbi1yaWdodCcsIGdldFNjcm9sbGJhcldpZHRoKCkpO1xyXG4gICAgICAgIGZpbmQuY3NzKCdtYXJnaW4tcmlnaHQnLCBnZXRTY3JvbGxiYXJXaWR0aCgpKTtcclxuICAgIH1cclxufVxyXG5cclxuLy9NYWtlIGJvZHkgc2Nyb2xsYWJsZVxyXG5mdW5jdGlvbiBib2R5U2Nyb2xsYWJsZSgpIHtcclxuICAgIGlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ25vLXNjcm9sbCcpKSB7XHJcbiAgICAgICAgdmFyIHNjcm9sbFRvcCA9ICQoJy5tYWluLXdyYXBwZXInKS5jc3MoJ21hcmdpbi10b3AnKS5zbGljZSgwLCAtMik7XHJcbiAgICAgICAgLy9EZXRlY3QgYWxsIGZpeGVkIGVsZW1lbnRzIG9uIHRoZSBwYWdlXHJcbiAgICAgICAgdmFyIGZpbmQgPSAkKCcqJykuZmlsdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICQodGhpcykuY3NzKCdwb3NpdGlvbicpID09ICdmaXhlZCc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCduby1zY3JvbGwnKS5jc3MoJ21hcmdpbi1yaWdodCcsIDApO1xyXG4gICAgICAgIGZpbmQuY3NzKCdtYXJnaW4tcmlnaHQnLCAwKTtcclxuICAgICAgICAkKCcubWFpbi13cmFwcGVyJykuY3NzKCdtYXJnaW4tdG9wJywgMCk7XHJcbiAgICAgICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgtc2Nyb2xsVG9wKTtcclxuICAgIH1cclxufVxyXG5cclxuLypTcG9pbGVycyovXHJcbiQoJy5zcG9pbGVyX190aXRsZScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vaW5kZXBlbmRlbnQgc3BvaWxlcnNcclxuICAgIGlmICgkKHRoaXMpLmNsb3Nlc3QoJy5zcG9pbGVycycpLmhhc0NsYXNzKCdzcG9pbGVycy0taW5kZXBlbmRlbnQnKSkge1xyXG4gICAgICAgICQodGhpcykuc2libGluZ3MoJy5zcG9pbGVyX19kZXNjJykuc2xpZGVUb2dnbGUoMzAwKS5jbG9zZXN0KCcuc3BvaWxlcicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxuICAgIC8vZGVwZW5kZW50IHNwb2lsZXJzXHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5zaWJsaW5ncygnLnNwb2lsZXJfX2Rlc2MnKS5pcygnOnZpc2libGUnKSkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcuc3BvaWxlcl9fZGVzYycpLnNsaWRlVXAoMzAwKS5jbG9zZXN0KCcuc3BvaWxlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5zcG9pbGVycycpLmZpbmQoJy5zcG9pbGVyX19kZXNjOnZpc2libGUnKS5zbGlkZVVwKDMwMCkuY2xvc2VzdCgnLnNwb2lsZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuc2libGluZ3MoJy5zcG9pbGVyX19kZXNjJykuc2xpZGVEb3duKDMwMCkuY2xvc2VzdCgnLnNwb2lsZXInKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuLyoqL1xyXG5cclxuLypNZW51IGRyb3Bkb3duKi9cclxuJCgnLm1lbnUgbGkuZHJvcGRvd24gYScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDc2Nykge1xyXG4gICAgICAgICQodGhpcykuc2libGluZ3MoJ3VsJykudG9nZ2xlKCk7XHJcbiAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnb3BlbmVkJyk7XHJcbiAgICB9XHJcbn0pOyJdLCJmaWxlIjoic2NyaXB0cy5qcyJ9
